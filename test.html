<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FastAPI Calculator</title>
</head>
<body>

<h2>Calculator (FastAPI Backend)</h2>

<input type="number" id="a" placeholder="First number">
<select id="operator">
    <option value="+">+</option>
    <option value="-">−</option>
    <option value="*">×</option>
    <option value="/">÷</option>
</select>
<input type="number" id="b" placeholder="Second number">

<br><br>

<button onclick="calculate()">Calculate</button>

<p id="result"></p>

<script>
    function calculate() {
        const a = document.getElementById("a").value;
        const b = document.getElementById("b").value;
        const operator = document.getElementById("operator").value;

        fetch("http://127.0.0.1:8000/calculate", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                a: Number(a),
                b: Number(b),
                operator: operator
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                document.getElementById("result").textContent = data.error;
            } else {
                document.getElementById("result").textContent =
                    "Result: " + data.result;
            }
        })
        .catch(error => {
            document.getElementById("result").textContent = "Server error";
        });
    }
</script>

</body>
</html>
